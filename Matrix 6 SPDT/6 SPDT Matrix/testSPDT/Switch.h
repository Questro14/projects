#ifndef __Switch__
#define __Switch__

#include <arduino.h>

#define data_pin 10
#define clk_pin 8
#define le_pin 9

#define pin_dip1 14
#define pin_dip2 15
#define pin_dip3 16
#define pin_dip4 17



#define MaxSwitch 6
#define PowerSwitchTime 100






struct DataBlock {
  unsigned char MaxState;
  unsigned char TxBit;
  unsigned char TxMark;
  unsigned char power_pin;
  unsigned char CtrlData[7];
};

class Switch {
  public:
    unsigned char SwState[11] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    /*DataBlock SwBlock[11] = {{6, 8, 0x80, 5,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},
      {6, 8, 0x80, 5,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},
      {6, 8, 0x80, 6,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},

      {4, 4, 0x08, 12, {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}},
      {4, 4, 0x08, 13, {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}},
      {4, 4, 0x08, 18, {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}},
      {4, 4, 0x08, 19, {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}},

      {6, 8, 0x80, 7,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},
      {6, 8, 0x80, 11, {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},

      {4, 4, 0x08, 3,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}},
      {4, 4, 0x08, 2,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x00, 0x00}}
      };*/

    DataBlock SwBlock[7] = {{2, 2, 0x02, 4,  {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4,  {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4,  {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4, {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4, {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4, {0x00, 0x01, 0x02}},
      {2, 2, 0x02, 4, {0x00, 0x01, 0x02}},

    };
    void Init(void);
    void UpdateSwitch(void);
    void SwitchPower(unsigned char SwNum);
};

#endif
