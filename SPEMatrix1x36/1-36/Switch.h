#ifndef __Switch__
#define __Switch__

#include <arduino.h>

#define data_pin 10
#define clk_pin 8
#define le_pin 9

#define pin_dip1 14
#define pin_dip2 15
#define pin_dip3 16
#define pin_dip4 17

#define MaxSwitch 10
#define PowerSwitchTime 100

struct DataBlock {
  unsigned char MaxState;
  unsigned char TxBit;
  unsigned char TxMark;
  unsigned char power_pin;
  unsigned char CtrlData[7];
};

class Switch {
  public:
    unsigned char SwState[11] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    DataBlock SwBlock136[11] = {{6, 8, 0x80, 5,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}},
      {6, 8, 0x80, 5,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *1 сдвиговый - 1 разъем
      {6, 8, 0x80, 6,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *2 сдвиговый - 2 разъем
      {6, 8, 0x80, 7,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *3 сдвиговый - 5 разъем
      {6, 8, 0x80, 4,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *4 сдвиговый - 8 разъем
      {6, 8, 0x80, 2,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *5 сдвиговый - 10 разъем
      {6, 8, 0x80, 3,  {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // 6 сдвиговый - 9 разъем
      {6, 8, 0x80, 18, {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *7 сдвиговый - 7 разъем
      {6, 8, 0x80, 19, {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // 8 сдвиговый - 6 разъем
      {6, 8, 0x80, 12, {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // 9 сдвиговый - 3 разъем
      {6, 8, 0x80, 11, {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20}}, // *10 сдвиговый - 4 разъем
    };

    void Init(void);
    void UpdateSwitch136(void);
    void SwitchPower(unsigned char SwNum);
    
};

#endif
